{"version":3,"sources":["../../../../../src/lib/interactive/components/InteractiveText.js"],"names":["React","Component","PropTypes","GenericChartComponent","getMouseCanvas","isDefined","noop","hexToRGBA","InteractiveText","props","calculateTextWidth","renderSVG","bind","drawOnCanvas","isHover","moreProps","onHover","type","textWidth","helper","rect","mouseXY","x","y","radius","height","arrowHeight","width","nextProps","text","fontStyle","fontWeight","fontSize","fontFamily","ctx","bgFill","bgOpacity","textFill","font","measureText","endX","endY","fillStyle","beginPath","fillRect","textBaseline","textAlign","fillText","moveTo","lineTo","quadraticCurveTo","fill","Error","selected","interactiveCursorClass","onUnHover","onDragStart","onDrag","onDragComplete","position","xScale","yScale","chartConfig","xValue","yValue","propTypes","oneOf","string","isRequired","number","oneOfType","func","defaultClassName","tolerance","bool","defaultProps","strokeWidth"],"mappings":"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","file":"InteractiveText.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport GenericChartComponent from \"../../GenericChartComponent\";\r\nimport { getMouseCanvas } from \"../../GenericComponent\";\r\n\r\nimport { isDefined, noop, hexToRGBA } from \"../../utils\";\r\n\r\nclass InteractiveText extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.calculateTextWidth = true;\r\n\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t\tthis.isHover = this.isHover.bind(this);\r\n\t}\r\n\tisHover(moreProps) {\r\n\t\tconst { onHover, type } = this.props;\r\n\r\n\t\tif (\r\n\t\t\tisDefined(onHover)\r\n\t\t\t&& isDefined(this.textWidth)\r\n\t\t\t&& !this.calculateTextWidth\r\n\t\t) {\r\n\t\t\tconst { rect } = helper(this.props, moreProps, this.textWidth);\r\n\t\t\tconst { mouseXY: [x, y] } = moreProps;\r\n\t\t\tconst radius = rect.height / 2;\r\n\t\t\tconst arrowHeight = 10;\r\n\t\t\tif (type === \"BUBBLE\" &&\r\n\t\t\t\tx >= rect.x - radius\r\n\t\t\t\t&& y >= rect.y - rect.height - arrowHeight\r\n\t\t\t\t&& x <= rect.x + rect.width\r\n\t\t\t\t&& y <= rect.y) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (type === \"TEXT\" &&\r\n\t\t\t\tx >= rect.x\r\n\t\t\t\t&& y >= rect.y\r\n\t\t\t\t&& x <= rect.x + rect.width\r\n\t\t\t\t&& y <= rect.y + rect.height) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tUNSAFE_componentWillReceiveProps(nextProps) {\r\n\t\tthis.calculateTextWidth = (\r\n\t\t\tnextProps.text !== this.props.text\r\n\t\t\t|| nextProps.fontStyle !== this.props.fontStyle\r\n\t\t\t|| nextProps.fontWeight !== this.props.fontWeight\r\n\t\t\t|| nextProps.fontSize !== this.props.fontSize\r\n\t\t\t|| nextProps.fontFamily !== this.props.fontFamily\r\n\t\t);\r\n\t}\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n\t\tconst {\r\n\t\t\tbgFill,\r\n\t\t\tbgOpacity,\r\n\t\t\ttextFill,\r\n\t\t\tfontFamily,\r\n\t\t\tfontSize,\r\n\t\t\tfontStyle,\r\n\t\t\tfontWeight,\r\n\t\t\ttext,\r\n\t\t\ttype,\r\n\t\t} = this.props;\r\n\r\n\t\tif (this.calculateTextWidth) {\r\n\t\t\tctx.font = `${fontStyle} ${fontWeight} ${fontSize}px ${fontFamily}`;\r\n\t\t\tconst { width } = ctx.measureText(text);\r\n\t\t\tthis.textWidth = width;\r\n\t\t\tthis.calculateTextWidth = false;\r\n\t\t}\r\n\t\tconst { x, y, rect } = helper(this.props, moreProps, this.textWidth);\r\n\t\tconst radius = rect.height / 2;\r\n\t\tconst arrowHeight = 10;\r\n\t\tconst endX = rect.x + rect.width;\r\n\t\tconst endY = rect.y - rect.height - arrowHeight;\r\n\t\tctx.fillStyle = hexToRGBA(bgFill, bgOpacity);\r\n\t\tif (type === \"TEXT\") {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.fillRect(rect.x, rect.y, rect.width, rect.height);\r\n\t\t\tctx.fillStyle = textFill;\r\n\t\t\tctx.textBaseline = \"middle\";\r\n\t\t\tctx.textAlign = \"center\";\r\n\t\t\tctx.font = `${fontStyle} ${fontWeight} ${fontSize}px ${fontFamily}`;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.fillText(text, x, y);\r\n\t\t} else if (type === \"BUBBLE\") {\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(rect.x, rect.y - arrowHeight);\r\n\t\t\tctx.lineTo(rect.x, rect.y);\r\n\t\t\tctx.lineTo(rect.x + arrowHeight, rect.y - arrowHeight);\r\n\t\t\tctx.lineTo(endX - radius, rect.y - arrowHeight);\r\n\t\t\tctx.quadraticCurveTo(endX, rect.y - arrowHeight, endX, rect.y - arrowHeight - radius);\r\n\t\t\tctx.lineTo(endX, endY + radius);\r\n\t\t\tctx.quadraticCurveTo(endX, endY, endX - radius, endY);\r\n\t\t\tctx.lineTo(rect.x, endY);\r\n\t\t\tctx.quadraticCurveTo(rect.x - radius, endY, rect.x - radius, endY + radius);\r\n\t\t\tctx.lineTo(rect.x - radius, rect.y - arrowHeight - radius);\r\n\t\t\tctx.quadraticCurveTo(rect.x - radius, rect.y - arrowHeight, rect.x, rect.y - arrowHeight);\r\n\t\t\tctx.fill();\r\n\t\t\tctx.fillStyle = textFill;\r\n\t\t\tctx.textBaseline = \"middle\";\r\n\t\t\tctx.textAlign = \"center\";\r\n\t\t\tctx.font = `${fontStyle} ${fontWeight} ${fontSize}px ${fontFamily}`;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.fillText(text, x + (rect.width - radius) / 2, y - arrowHeight - rect.height / 2);\r\n\t\t}\r\n\t}\r\n\trenderSVG() {\r\n\t\tthrow new Error(\"svg not implemented\");\r\n\t}\r\n\trender() {\r\n\t\tconst { selected, interactiveCursorClass } = this.props;\r\n\t\tconst { onHover, onUnHover } = this.props;\r\n\t\tconst { onDragStart, onDrag, onDragComplete } = this.props;\r\n\r\n\t\treturn <GenericChartComponent\r\n\t\t\tisHover={this.isHover}\r\n\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tcanvasToDraw={getMouseCanvas}\r\n\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\r\n\t\t\tinteractiveCursorClass={interactiveCursorClass}\r\n\t\t\tselected={selected}\r\n\r\n\t\t\tonDragStart={onDragStart}\r\n\t\t\tonDrag={onDrag}\r\n\t\t\tonDragComplete={onDragComplete}\r\n\t\t\tonHover={onHover}\r\n\t\t\tonUnHover={onUnHover}\r\n\r\n\t\t\tdrawOn={[\"mousemove\", \"mouseleave\", \"pan\", \"drag\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nfunction helper(props, moreProps, textWidth) {\r\n\tconst { position, fontSize } = props;\r\n\r\n\tconst { xScale, chartConfig: { yScale } } = moreProps;\r\n\r\n\tconst [xValue, yValue] = position;\r\n\tconst x = xScale(xValue);\r\n\tconst y = yScale(yValue);\r\n\tlet rect = {};\r\n\tif (props.type === \"BUBBLE\") {\r\n\t\trect = {\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t\twidth: textWidth + fontSize * 2,\r\n\t\t\theight: fontSize * 2,\r\n\t\t};\r\n\t} else if (props.type === \"TEXT\") {\r\n\t\trect = {\r\n\t\t\tx: x - textWidth / 2 - fontSize,\r\n\t\t\ty: y - fontSize,\r\n\t\t\twidth: textWidth + fontSize * 2,\r\n\t\t\theight: fontSize * 2,\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tx, y, rect\r\n\t};\r\n}\r\n\r\nInteractiveText.propTypes = {\r\n\ttype: PropTypes.oneOf([\r\n\t\t\"TEXT\", // extends from -Infinity to +Infinity\r\n\t\t\"BUBBLE\", // extends to +/-Infinity in one direction\r\n\t]),\r\n\tbgFill: PropTypes.string.isRequired,\r\n\tbgOpacity: PropTypes.number.isRequired,\r\n\r\n\ttextFill: PropTypes.string.isRequired,\r\n\tfontFamily: PropTypes.string.isRequired,\r\n\tfontSize: PropTypes.number.isRequired,\r\n\tfontWeight: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.string,\r\n\t]).isRequired,\r\n\tfontStyle: PropTypes.string.isRequired,\r\n\r\n\ttext: PropTypes.string.isRequired,\r\n\r\n\tonDragStart: PropTypes.func.isRequired,\r\n\tonDrag: PropTypes.func.isRequired,\r\n\tonDragComplete: PropTypes.func.isRequired,\r\n\tonHover: PropTypes.func,\r\n\tonUnHover: PropTypes.func,\r\n\r\n\tdefaultClassName: PropTypes.string,\r\n\tinteractiveCursorClass: PropTypes.string,\r\n\r\n\ttolerance: PropTypes.number.isRequired,\r\n\tselected: PropTypes.bool.isRequired,\r\n};\r\n\r\nInteractiveText.defaultProps = {\r\n\tonDragStart: noop,\r\n\tonDrag: noop,\r\n\tonDragComplete: noop,\r\n\r\n\tfontWeight: \"normal\", // standard dev\r\n\r\n\tstrokeWidth: 1,\r\n\ttolerance: 4,\r\n\tselected: false,\r\n};\r\n\r\nexport default InteractiveText;"]}