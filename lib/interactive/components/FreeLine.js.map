{"version":3,"sources":["../../../../src/lib/interactive/components/FreeLine.js"],"names":["isHovering2","isHovering","getSlope","getYIntercept","generateLine","StraightLine","props","renderSVG","bind","drawOnCanvas","isHover","moreProps","tolerance","onHover","positionList","mouseXY","xScale","yScale","chartConfig","i","length","x1Value","y1Value","x2Value","y2Value","value","ctx","stroke","strokeWidth","strokeOpacity","lineWidth","strokeStyle","beginPath","moveTo","slice","forEach","lineTo","element","strokeDasharray","helper","x1","y1","x2","y2","selected","interactiveCursorClass","onDragStart","onDrag","onDragComplete","onUnHover","getMouseCanvas","Component","start","end","mouseX","mouseY","m","b","y","Math","min","max","line","type","modLine","undefined","getLineCoordinates","propTypes","PropTypes","arrayOf","any","isRequired","string","number","oneOf","strokeDashTypes","onEdge1Drag","func","onEdge2Drag","defaultClassName","r","withEdge","bool","children","fill","fillOpacity","defaultProps","noop","edgeStrokeWidth","edgeStroke","edgeFill"],"mappings":"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","file":"FreeLine.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport GenericChartComponent from \"../../GenericChartComponent\";\r\nimport { getMouseCanvas } from \"../../GenericComponent\";\r\n\r\nimport {\r\n\tisDefined,\r\n\tnoop,\r\n\thexToRGBA,\r\n\tgetStrokeDasharray,\r\n\tstrokeDashTypes,\r\n} from \"../../utils\";\r\n\r\nclass StraightLine extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t\tthis.isHover = this.isHover.bind(this);\r\n\t}\r\n\tisHover(moreProps) {\r\n\t\tconst { tolerance, onHover } = this.props;\r\n\r\n\t\tif (isDefined(onHover)) {\r\n      const { positionList } = this.props;\r\n\t\t\t\tconst { mouseXY, xScale, chartConfig: { yScale } } = moreProps;\r\n\t\t\t\tfor (let i = 0; i < positionList.length - 1; i++) {\r\n          const x1Value = positionList[i][0];\r\n          const y1Value = positionList[i][1];\r\n          const x2Value = positionList[i + 1][0];\r\n          const y2Value = positionList[i + 1][1];\r\n          const value =  isHovering({\r\n            x1Value, y1Value,\r\n            x2Value, y2Value,\r\n            mouseXY,\r\n            tolerance,\r\n            xScale,\r\n            yScale,\r\n          });\r\n          if (value) {\r\n\t\t\t\t    return true;\r\n          }\r\n        }\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n    const { stroke, strokeWidth, strokeOpacity, positionList } = this.props;\r\n\t  const { xScale, chartConfig: { yScale } } = moreProps;\r\n\t\tctx.lineWidth = strokeWidth;\r\n\t\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\r\n    ctx.beginPath();\r\n    ctx.moveTo(xScale(positionList[0][0]), yScale(positionList[0][1]));\r\n    positionList.slice(1).forEach(element => {\r\n      ctx.lineTo(xScale(element[0]), yScale(element[1]));\r\n    });\r\n    ctx.stroke();\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { stroke, strokeWidth, strokeOpacity, strokeDasharray } = this.props;\r\n\r\n\t\tconst lineWidth = strokeWidth;\r\n\r\n\t\tconst { x1, y1, x2, y2 } = helper(this.props, moreProps);\r\n\t\treturn (\r\n\t\t\t<line\r\n\t\t\t\tx1={x1} y1={y1} x2={x2} y2={y2}\r\n\t\t\t\tstroke={stroke} strokeWidth={lineWidth}\r\n\t\t\t\tstrokeDasharray={getStrokeDasharray(strokeDasharray)}\r\n\t\t\t\tstrokeOpacity={strokeOpacity} />\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { selected, interactiveCursorClass } = this.props;\r\n\t\tconst { onDragStart, onDrag, onDragComplete, onHover, onUnHover } = this.props;\r\n\r\n\t\treturn <GenericChartComponent\r\n\t\t\tisHover={this.isHover}\r\n\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tcanvasToDraw={getMouseCanvas}\r\n\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\r\n\t\t\tinteractiveCursorClass={interactiveCursorClass}\r\n\t\t\tselected={selected}\r\n\r\n\t\t\tonDragStart={onDragStart}\r\n\t\t\tonDrag={onDrag}\r\n\t\t\tonDragComplete={onDragComplete}\r\n\t\t\tonHover={onHover}\r\n\t\t\tonUnHover={onUnHover}\r\n\r\n\t\t\tdrawOn={[\"mousemove\", \"pan\", \"drag\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nexport function isHovering2(start, end, [mouseX, mouseY], tolerance) {\r\n\tconst m = getSlope(start, end);\r\n\r\n\tif (isDefined(m)) {\r\n\t\tconst b = getYIntercept(m, end);\r\n\t\tconst y = m * mouseX + b;\r\n\t\treturn (mouseY < y + tolerance)\r\n\t\t\t&& mouseY > (y - tolerance)\r\n\t\t\t&& mouseX > Math.min(start[0], end[0]) - tolerance\r\n\t\t\t&& mouseX < Math.max(start[0], end[0]) + tolerance;\r\n\t} else {\r\n\t\treturn mouseY >= Math.min(start[1], end[1])\r\n\t\t\t&& mouseY <= Math.max(start[1], end[1])\r\n\t\t\t&& mouseX < start[0] + tolerance\r\n\t\t\t&& mouseX > start[0] - tolerance;\r\n\t}\r\n}\r\n\r\nexport function isHovering({\r\n\tx1Value, y1Value,\r\n\tx2Value, y2Value,\r\n\tmouseXY,\r\n\ttolerance,\r\n\txScale,\r\n\tyScale,\r\n}) {\r\n\r\n\tconst line = generateLine({\r\n\t\tstart: [x1Value, y1Value],\r\n\t\tend: [x2Value, y2Value],\r\n\t\txScale,\r\n\t\tyScale,\r\n  });\r\n\r\n\tconst start = [xScale(line.x1), yScale(line.y1)];\r\n\tconst end = [xScale(line.x2), yScale(line.y2)];\r\n\r\n\tconst m = getSlope(start, end);\r\n\tconst [mouseX, mouseY] = mouseXY;\r\n\r\n\tif (isDefined(m)) {\r\n\t\tconst b = getYIntercept(m, end);\r\n\t\tconst y = m * mouseX + b;\r\n\r\n\t\treturn mouseY < (y + tolerance)\r\n\t\t\t&& mouseY > (y - tolerance)\r\n\t\t\t&& mouseX > Math.min(start[0], end[0]) - tolerance\r\n\t\t\t&& mouseX < Math.max(start[0], end[0]) + tolerance;\r\n\t} else {\r\n\t\treturn mouseY >= Math.min(start[1], end[1])\r\n\t\t\t&& mouseY <= Math.max(start[1], end[1])\r\n\t\t\t&& mouseX < start[0] + tolerance\r\n\t\t\t&& mouseX > start[0] - tolerance;\r\n\t}\r\n}\r\n\r\nfunction helper(props, moreProps) {\r\n\tconst { x1Value, x2Value, y1Value, y2Value, type } = props;\r\n\r\n\tconst { xScale, chartConfig: { yScale } } = moreProps;\r\n\r\n\tconst modLine = generateLine({\r\n\t\ttype,\r\n\t\tstart: [x1Value, y1Value],\r\n\t\tend: [x2Value, y2Value],\r\n\t\txScale,\r\n\t\tyScale,\r\n\t});\r\n\r\n\tconst x1 = xScale(modLine.x1);\r\n\tconst y1 = yScale(modLine.y1);\r\n\tconst x2 = xScale(modLine.x2);\r\n\tconst y2 = yScale(modLine.y2);\r\n\r\n\treturn {\r\n\t\tx1, y1, x2, y2\r\n\t};\r\n}\r\n\r\nexport function getSlope(start, end) {\r\n\tconst m /* slope */ = end[0] === start[0]\r\n\t\t? undefined\r\n\t\t: (end[1] - start[1]) / (end[0] - start[0]);\r\n\treturn m;\r\n}\r\nexport function getYIntercept(m, end) {\r\n\tconst b /* y intercept */ = -1 * m * end[0] + end[1];\r\n\treturn b;\r\n}\r\n\r\nexport function generateLine({\r\n\tstart, end, xScale, yScale\r\n}) {\r\n\tconst m /* slope */ = getSlope(start, end);\r\n\t// console.log(end[0] - start[0], m)\r\n\tconst b /* y intercept */ = getYIntercept(m, start);\r\n\treturn getLineCoordinates({\r\n    start, end, xScale, yScale, m, b\r\n  });\r\n}\r\n\r\nfunction getLineCoordinates({\r\n\tstart, end\r\n}) {\r\n\tconst [x1, y1] = start;\r\n\tconst [x2, y2] = end;\r\n\tif (end[0] === start[0]) {\r\n\t\treturn {\r\n\t\t\tx1,\r\n\t\t\ty1: start[1],\r\n\t\t\tx2: x1,\r\n\t\t\ty2: end[1],\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tx1, y1,\r\n\t\tx2, y2,\r\n\t};\r\n}\r\n\r\nStraightLine.propTypes = {\r\n\tpositionList: PropTypes.arrayOf(PropTypes.any).isRequired,\r\n\tinteractiveCursorClass: PropTypes.string,\r\n\tstroke: PropTypes.string.isRequired,\r\n\tstrokeWidth: PropTypes.number.isRequired,\r\n\tstrokeOpacity: PropTypes.number.isRequired,\r\n\tstrokeDasharray: PropTypes.oneOf(strokeDashTypes),\r\n\r\n\tonEdge1Drag: PropTypes.func.isRequired,\r\n\tonEdge2Drag: PropTypes.func.isRequired,\r\n\tonDragStart: PropTypes.func.isRequired,\r\n\tonDrag: PropTypes.func.isRequired,\r\n\tonDragComplete: PropTypes.func.isRequired,\r\n\tonHover: PropTypes.func,\r\n\tonUnHover: PropTypes.func,\r\n\r\n\tdefaultClassName: PropTypes.string,\r\n\r\n\tr: PropTypes.number.isRequired,\r\n\twithEdge: PropTypes.bool.isRequired,\r\n\tchildren: PropTypes.func.isRequired,\r\n\ttolerance: PropTypes.number.isRequired,\r\n\tselected: PropTypes.bool.isRequired,\r\n\tfill: PropTypes.string.isRequired,\r\n\tfillOpacity: PropTypes.number.isRequired,\r\n};\r\n\r\nStraightLine.defaultProps = {\r\n\tonEdge1Drag: noop,\r\n\tonEdge2Drag: noop,\r\n\tonDragStart: noop,\r\n\tonDrag: noop,\r\n\tonDragComplete: noop,\r\n\r\n\tedgeStrokeWidth: 3,\r\n\tedgeStroke: \"#000000\",\r\n\tedgeFill: \"#FFFFFF\",\r\n\tr: 10,\r\n\twithEdge: false,\r\n\tstrokeWidth: 1,\r\n\tstrokeDasharray: \"Solid\",\r\n\tchildren: noop,\r\n\ttolerance: 7,\r\n\tselected: false,\r\n\tfill: \"#8AAFE2\",\r\n\tfillOpacity: 0.5,\r\n};\r\n\r\nexport default StraightLine;\r\n"]}