{"version":3,"sources":["../../../../src/lib/interactive/components/Angle.js"],"names":["isHovering2","isHovering","getSlope","getYIntercept","generateLine","Angle","props","renderSVG","bind","drawOnCanvas","isHover","moreProps","tolerance","onHover","type","x1Value","x2Value","y1Value","y2Value","mouseXY","xScale","yScale","chartConfig","hovering","hovering1","hovering2","hovering3","hovering4","x1","x2","y1","y2","Math","pow","abs","ctx","stroke","strokeWidth","strokeOpacity","fill","fillOpacity","fontFill","helper","x3","y3","rad","atan2","lineWidth","strokeStyle","setLineDash","beginPath","moveTo","lineTo","arc","font","fillStyle","fillText","round","PI","ellipse","strokeDasharray","selected","interactiveCursorClass","onDragStart","onDrag","onDragComplete","onUnHover","getMouseCanvas","Component","start","end","mouseX","mouseY","m","b","y","min","max","line","modLine","undefined","getLineCoordinates","propTypes","PropTypes","any","isRequired","string","number","oneOf","strokeDashTypes","onEdge1Drag","func","onEdge2Drag","defaultClassName","r","edgeFill","edgeStroke","edgeStrokeWidth","withEdge","bool","children","defaultProps","noop"],"mappings":"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","file":"Angle.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport GenericChartComponent from \"../../GenericChartComponent\";\r\nimport { getMouseCanvas } from \"../../GenericComponent\";\r\n\r\nimport {\r\n\tisDefined,\r\n\tnoop,\r\n\thexToRGBA,\r\n\tgetStrokeDasharray,\r\n\tstrokeDashTypes,\r\n} from \"../../utils\";\r\n\r\nclass Angle extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t\tthis.isHover = this.isHover.bind(this);\r\n\t}\r\n\tisHover(moreProps) {\r\n\t\tconst { tolerance, onHover, type } = this.props;\r\n\t\tif (isDefined(onHover)) {\r\n\t\t\tif (type === \"ANGLE\") {\r\n\t\t\t\tconst { x1Value, x2Value, y1Value, y2Value, type } = this.props;\r\n\t\t\t\tconst { mouseXY, xScale } = moreProps;\r\n\t\t\t\tconst { chartConfig: { yScale } } = moreProps;\r\n\r\n\t\t\t\tconst hovering = isHovering({\r\n\t\t\t\t\tx1Value, y1Value,\r\n\t\t\t\t\tx2Value, y2Value,\r\n\t\t\t\t\tmouseXY,\r\n\t\t\t\t\ttype,\r\n\t\t\t\t\ttolerance,\r\n\t\t\t\t\txScale,\r\n\t\t\t\t\tyScale,\r\n\t\t\t\t});\r\n\t\t\t\treturn hovering;\r\n\t\t\t} else if (type === \"RECTANGLE\") {\r\n\t\t\t\tconst { x1Value, x2Value, y1Value, y2Value, type } = this.props;\r\n\t\t\t\tconst { mouseXY, xScale } = moreProps;\r\n\t\t\t\tconst { chartConfig: { yScale } } = moreProps;\r\n\r\n\t\t\t\tconst hovering1 = isHovering({\r\n\t\t\t\t\tx1Value, y1Value,\r\n\t\t\t\t\tx2Value: x1Value, y2Value,\r\n\t\t\t\t\tmouseXY,\r\n\t\t\t\t\ttype,\r\n\t\t\t\t\ttolerance,\r\n\t\t\t\t\txScale,\r\n\t\t\t\t\tyScale,\r\n\t\t\t\t});\r\n\t\t\t\tconst hovering2 = isHovering({\r\n\t\t\t\t\tx1Value, y1Value: y2Value,\r\n\t\t\t\t\tx2Value, y2Value,\r\n\t\t\t\t\tmouseXY,\r\n\t\t\t\t\ttype,\r\n\t\t\t\t\ttolerance,\r\n\t\t\t\t\txScale,\r\n\t\t\t\t\tyScale,\r\n\t\t\t\t});\r\n\t\t\t\tconst hovering3 = isHovering({\r\n\t\t\t\t\tx1Value: x2Value, y1Value,\r\n\t\t\t\t\tx2Value, y2Value,\r\n\t\t\t\t\tmouseXY,\r\n\t\t\t\t\ttype,\r\n\t\t\t\t\ttolerance,\r\n\t\t\t\t\txScale,\r\n\t\t\t\t\tyScale,\r\n\t\t\t\t});\r\n\t\t\t\tconst hovering4 = isHovering({\r\n\t\t\t\t\tx1Value, y1Value,\r\n\t\t\t\t\tx2Value, y2Value: y1Value,\r\n\t\t\t\t\tmouseXY,\r\n\t\t\t\t\ttype,\r\n\t\t\t\t\ttolerance,\r\n\t\t\t\t\txScale,\r\n\t\t\t\t\tyScale,\r\n\t\t\t\t});\r\n\t\t\t\treturn hovering1 || hovering2 || hovering3 || hovering4;\r\n\t\t\t} else if (type === \"CIRCLE\") {\r\n\t\t\t\tconst { x1Value, x2Value, y1Value, y2Value } = this.props;\r\n\t\t\t\tconst { mouseXY, xScale } = moreProps;\r\n\t\t\t\tconst { chartConfig: { yScale } } = moreProps;\r\n\t\t\t\tconst x1 = xScale(x1Value);\r\n\t\t\t\tconst x2 = xScale(x2Value);\r\n\t\t\t\tconst y1 = yScale(y1Value);\r\n\t\t\t\tconst y2 = yScale(y2Value);\r\n\t\t\t\tif ( Math.pow(mouseXY[0] - (x1 + x2) / 2, 2) / Math.pow(Math.abs((x2 - x1) / 2), 2) +\r\n\t\t\t\tMath.pow(mouseXY[1] - (y1 + y2) / 2, 2) / Math.pow(Math.abs((y2 - y1) / 2), 2) <= 1) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n\t\tconst { stroke, strokeWidth, strokeOpacity, type, fill, fillOpacity, fontFill } = this.props;\r\n\t\tif (type === \"ANGLE\") {\r\n\t\t\tconst { x1, y1, x2, y2, x3, y3 } = helper(this.props, moreProps);\r\n\t\t\tconst rad = Math.atan2(y2 - y1, x2 - x1) || 0;\r\n\t\t\tctx.lineWidth = strokeWidth;\r\n\t\t\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\r\n\t\t\tctx.setLineDash([]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(x1, y1);\r\n\t\t\tctx.lineTo(x2, y2);\r\n\t\t\tctx.stroke();\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.setLineDash([10, 10]);\r\n\t\t\tctx.moveTo(x1, y1);\r\n\t\t\tctx.lineTo(x3, y3);\r\n\t\t\tctx.lineTo(x1, y1);\r\n\t\t\tctx.arc(x1, y1, x3 - x1, rad > 0 ? 0 : rad, rad > 0 ? rad : 0);\r\n\t\t\tctx.lineTo(x1, y1);\r\n\t\t\tctx.stroke();\r\n\t\t\tif (x3 && y3) {\r\n        ctx.font = \"15px Arial\";\r\n        ctx.fillStyle = fontFill;\r\n\t\t\t\tctx.fillText(Math.round(- Math.atan2(y2 - y1, x2 - x1) / Math.PI * 180) + \"°\", x3 + 5, y3 + 10);\r\n\t\t\t}\r\n\t\t} else if (type === \"RECTANGLE\") {\r\n\t\t\tconst { x1, y1, x2, y2 } = helper(this.props, moreProps);\r\n\t\t\tctx.lineWidth = strokeWidth;\r\n\t\t\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\r\n\t\t\tctx.fillStyle = hexToRGBA(fill, fillOpacity);\r\n\t\t\tctx.setLineDash([]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(x1, y1);\r\n\t\t\tctx.lineTo(x1, y2);\r\n\t\t\tctx.lineTo(x2, y2);\r\n\t\t\tctx.lineTo(x2, y1);\r\n\t\t\tctx.lineTo(x1, y1);\r\n\t\t\tctx.fill();\r\n\t\t\tctx.stroke();\r\n\t\t} else if (type === \"CIRCLE\") {\r\n\t\t\tconst { x1, y1, x2, y2 } = helper(this.props, moreProps);\r\n\t\t\tctx.lineWidth = strokeWidth;\r\n\t\t\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\r\n\t\t\tctx.fillStyle = hexToRGBA(fill, fillOpacity);\r\n\t\t\tctx.setLineDash([]);\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.ellipse((x1 + x2) / 2, (y1 + y2) / 2,\r\n\t\t\t\tMath.abs((x2 - x1) / 2), Math.abs((y2 - y1) / 2),\r\n\t\t\t\t2 * Math.PI, 0, 2 * Math.PI, true);\r\n\t\t\tctx.fill();\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { stroke, strokeWidth, strokeOpacity, strokeDasharray } = this.props;\r\n\r\n\t\tconst lineWidth = strokeWidth;\r\n\r\n\t\tconst { x1, y1, x2, y2 } = helper(this.props, moreProps);\r\n\t\treturn (\r\n\t\t\t<line\r\n\t\t\t\tx1={x1} y1={y1} x2={x2} y2={y2}\r\n\t\t\t\tstroke={stroke} strokeWidth={lineWidth}\r\n\t\t\t\tstrokeDasharray={getStrokeDasharray(strokeDasharray)}\r\n\t\t\t\tstrokeOpacity={strokeOpacity} />\r\n\t\t);\r\n\t}\r\n\trender() {\r\n\t\tconst { selected, interactiveCursorClass } = this.props;\r\n\t\tconst { onDragStart, onDrag, onDragComplete, onHover, onUnHover } = this.props;\r\n\r\n\t\treturn <GenericChartComponent\r\n\t\t\tisHover={this.isHover}\r\n\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tcanvasToDraw={getMouseCanvas}\r\n\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\r\n\t\t\tinteractiveCursorClass={interactiveCursorClass}\r\n\t\t\tselected={selected}\r\n\r\n\t\t\tonDragStart={onDragStart}\r\n\t\t\tonDrag={onDrag}\r\n\t\t\tonDragComplete={onDragComplete}\r\n\t\t\tonHover={onHover}\r\n\t\t\tonUnHover={onUnHover}\r\n\r\n\t\t\tdrawOn={[\"mousemove\", \"pan\", \"drag\"]}\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nexport function isHovering2(start, end, [mouseX, mouseY], tolerance) {\r\n\tconst m = getSlope(start, end);\r\n\r\n\tif (isDefined(m)) {\r\n\t\tconst b = getYIntercept(m, end);\r\n\t\tconst y = m * mouseX + b;\r\n\t\treturn (mouseY < y + tolerance)\r\n\t\t\t&& mouseY > (y - tolerance)\r\n\t\t\t&& mouseX > Math.min(start[0], end[0]) - tolerance\r\n\t\t\t&& mouseX < Math.max(start[0], end[0]) + tolerance;\r\n\t} else {\r\n\t\treturn mouseY >= Math.min(start[1], end[1])\r\n\t\t\t&& mouseY <= Math.max(start[1], end[1])\r\n\t\t\t&& mouseX < start[0] + tolerance\r\n\t\t\t&& mouseX > start[0] - tolerance;\r\n\t}\r\n}\r\n\r\nexport function isHovering({\r\n\tx1Value, y1Value,\r\n\tx2Value, y2Value,\r\n\tmouseXY,\r\n\ttype,\r\n\ttolerance,\r\n\txScale,\r\n\tyScale,\r\n}) {\r\n\r\n\tconst line = generateLine({\r\n\t\ttype,\r\n\t\tstart: [x1Value, y1Value],\r\n\t\tend: [x2Value, y2Value],\r\n\t\txScale,\r\n\t\tyScale,\r\n\t});\r\n\r\n\tconst start = [xScale(line.x1), yScale(line.y1)];\r\n\tconst end = [xScale(line.x2), yScale(line.y2)];\r\n\r\n\tconst m = getSlope(start, end);\r\n\tconst [mouseX, mouseY] = mouseXY;\r\n\r\n\tif (isDefined(m)) {\r\n\t\tconst b = getYIntercept(m, end);\r\n\t\tconst y = m * mouseX + b;\r\n\r\n\t\treturn mouseY < (y + tolerance)\r\n\t\t\t&& mouseY > (y - tolerance)\r\n\t\t\t&& mouseX > Math.min(start[0], end[0]) - tolerance\r\n\t\t\t&& mouseX < Math.max(start[0], end[0]) + tolerance;\r\n\t} else {\r\n\t\treturn mouseY >= Math.min(start[1], end[1])\r\n\t\t\t&& mouseY <= Math.max(start[1], end[1])\r\n\t\t\t&& mouseX < start[0] + tolerance\r\n\t\t\t&& mouseX > start[0] - tolerance;\r\n\t}\r\n}\r\n\r\nfunction helper(props, moreProps) {\r\n\tconst { x1Value, x2Value, y1Value, y2Value, type } = props;\r\n\tconst { xScale, chartConfig: { yScale } } = moreProps;\r\n\r\n\tconst modLine = generateLine({\r\n\t\ttype,\r\n\t\tstart: [x1Value, y1Value],\r\n\t\tend: [x2Value, y2Value],\r\n\t\txScale,\r\n\t\tyScale,\r\n\t});\r\n\r\n\tif (type === \"ANGLE\") {\r\n\t\tconst x1 = xScale(modLine.x1);\r\n\t\tconst y1 = yScale(modLine.y1);\r\n\t\tconst x2 = xScale(modLine.x2);\r\n\t\tconst y2 = yScale(modLine.y2);\r\n\t\tconst x3 = xScale(modLine.x1) + 50;\r\n\t\tconst y3 = yScale(modLine.y1);\r\n\r\n\t\treturn {\r\n\t\t\tx1, y1, x2, y2, x3, y3\r\n\t\t};\r\n\t} else if (type === \"RECTANGLE\" || type === \"CIRCLE\") {\r\n\t\tconst x1 = xScale(modLine.x1);\r\n\t\tconst y1 = yScale(modLine.y1);\r\n\t\tconst x2 = xScale(modLine.x2);\r\n\t\tconst y2 = yScale(modLine.y2);\r\n\r\n\t\treturn {\r\n\t\t\tx1, y1, x2, y2\r\n\t\t};\r\n\t}\r\n\r\n}\r\n\r\nexport function getSlope(start, end) {\r\n\tconst m /* slope */ = end[0] === start[0]\r\n\t\t? undefined\r\n\t\t: (end[1] - start[1]) / (end[0] - start[0]);\r\n\treturn m;\r\n}\r\nexport function getYIntercept(m, end) {\r\n\tconst b /* y intercept */ = -1 * m * end[0] + end[1];\r\n\treturn b;\r\n}\r\n\r\nexport function generateLine({\r\n\ttype, start, end, xScale, yScale\r\n}) {\r\n\tconst m /* slope */ = getSlope(start, end);\r\n\t// console.log(end[0] - start[0], m)\r\n\tconst b /* y intercept */ = getYIntercept(m, start);\r\n\r\n\treturn getLineCoordinates({\r\n\t\ttype, start, end, xScale, yScale, m, b\r\n\t});\r\n}\r\n\r\nfunction getLineCoordinates({\r\n\tstart, end\r\n}) {\r\n\r\n\tconst [x1, y1] = start;\r\n\tconst [x2, y2] = end;\r\n\tif (end[0] === start[0]) {\r\n\t\treturn {\r\n\t\t\tx1,\r\n\t\t\ty1: start[1],\r\n\t\t\tx2: x1,\r\n\t\t\ty2: end[1],\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tx1, y1,\r\n\t\tx2, y2,\r\n\t};\r\n}\r\n\r\nAngle.propTypes = {\r\n\tx1Value: PropTypes.any.isRequired,\r\n\tx2Value: PropTypes.any.isRequired,\r\n\ty1Value: PropTypes.any.isRequired,\r\n\ty2Value: PropTypes.any.isRequired,\r\n\r\n\tinteractiveCursorClass: PropTypes.string,\r\n\tstroke: PropTypes.string.isRequired,\r\n\tstrokeWidth: PropTypes.number.isRequired,\r\n\tstrokeOpacity: PropTypes.number.isRequired,\r\n\tstrokeDasharray: PropTypes.oneOf(strokeDashTypes),\r\n\r\n\ttype: PropTypes.oneOf([\r\n\t\t\"ANGLE\",\r\n\t\t\"RECTANGLE\",\r\n\t\t\"CIRCLE\",\r\n\t]).isRequired,\r\n\r\n\tonEdge1Drag: PropTypes.func.isRequired,\r\n\tonEdge2Drag: PropTypes.func.isRequired,\r\n\tonDragStart: PropTypes.func.isRequired,\r\n\tonDrag: PropTypes.func.isRequired,\r\n\tonDragComplete: PropTypes.func.isRequired,\r\n\tonHover: PropTypes.func,\r\n\tonUnHover: PropTypes.func,\r\n\r\n\tdefaultClassName: PropTypes.string,\r\n\r\n\tr: PropTypes.number.isRequired,\r\n\tedgeFill: PropTypes.string.isRequired,\r\n\tfontFill: PropTypes.string.isRequired,\r\n\tedgeStroke: PropTypes.string.isRequired,\r\n\tedgeStrokeWidth: PropTypes.number.isRequired,\r\n\twithEdge: PropTypes.bool.isRequired,\r\n\tchildren: PropTypes.func.isRequired,\r\n\ttolerance: PropTypes.number.isRequired,\r\n\tselected: PropTypes.bool.isRequired,\r\n\tfill: PropTypes.string.isRequired,\r\n\tfillOpacity: PropTypes.number.isRequired,\r\n};\r\n\r\nAngle.defaultProps = {\r\n\tonEdge1Drag: noop,\r\n\tonEdge2Drag: noop,\r\n\tonDragStart: noop,\r\n\tonDrag: noop,\r\n\tonDragComplete: noop,\r\n\twithEdge: false,\r\n\tchildren: noop,\r\n\ttolerance: 7,\r\n\tselected: false,\r\n};\r\n\r\nexport default Angle;"]}