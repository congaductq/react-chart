{"version":3,"sources":["../../../src/lib/axes/Axis.js"],"names":["Axis","props","renderSVG","bind","drawOnCanvas","saveNode","getMoreProps","node","ctx","moreProps","showDomain","showTicks","transform","range","getScale","save","translate","drawAxisLine","tickProps","tickHelper","drawTicks","restore","className","ticks","axisTicksSVG","domain","axisLineSVG","bg","axisZoomCallback","zoomCursorClassName","zoomEnabled","inverted","getMouseDelta","edgeClip","onContextMenu","onDoubleClick","zoomCapture","getAxisCanvas","Component","propTypes","innerTickSize","PropTypes","number","outerTickSize","tickFormat","func","tickPadding","tickSize","tickLabelFill","string","tickStroke","tickStrokeOpacity","tickStrokeWidth","tickStrokeDasharray","oneOf","strokeDashTypes","tickValues","oneOfType","array","tickInterval","tickIntervalFunction","bool","arrayOf","isRequired","object","defaultProps","scale","orient","fontSize","fontFamily","fontWeight","flexTicks","showTickLabel","tickArguments","tickValuesProp","min","max","baseTickValues","baseFormat","identity","format","d","sign","tickSpacing","Math","dy","canvas_dy","textAnchor","map","x","round","value","x1","y1","x2","y2","labelX","labelY","nodes","id","fy","origX","simulation","force","strength","stop","i","tick","zip","combine","a","b","abs","y","domainClassName","fill","stroke","strokeWidth","opacity","xAxis","lineWidth","strokeStyle","beginPath","moveTo","lineTo","Tick","children","result","idx","fillStyle","forEach","drawEachTick","font","textAlign","drawEachTickLabel","setLineDash","split","fillText"],"mappings":"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","file":"Axis.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { forceSimulation, forceX, forceCollide } from \"d3-force\";\r\nimport { range as d3Range } from \"d3-array\";\r\n\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\nimport { getAxisCanvas } from \"../GenericComponent\";\r\nimport AxisZoomCapture from \"./AxisZoomCapture\";\r\n\r\nimport { first, last, hexToRGBA, isNotDefined, isDefined, identity, zipper, strokeDashTypes, getStrokeDasharray } from \"../utils\";\r\n\r\nclass Axis extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t\tthis.saveNode = this.saveNode.bind(this);\r\n\t\tthis.getMoreProps = this.getMoreProps.bind(this);\r\n\t}\r\n\tsaveNode(node) {\r\n\t\tthis.node = node;\r\n\t}\r\n\tgetMoreProps() {\r\n\t\treturn this.node.getMoreProps();\r\n\t}\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n\t\tconst { showDomain, showTicks, transform, range, getScale } = this.props;\r\n\r\n\t\tctx.save();\r\n\t\tctx.translate(transform[0], transform[1]);\r\n\r\n\t\tif (showDomain) drawAxisLine(ctx, this.props, range);\r\n\t\tif (showTicks) {\r\n\t\t\tconst tickProps = tickHelper(this.props, getScale(moreProps));\r\n\t\t\tdrawTicks(ctx, tickProps);\r\n\t\t}\r\n\r\n\t\tctx.restore();\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { className } = this.props;\r\n\t\tconst { showDomain, showTicks, range, getScale } = this.props;\r\n\r\n\t\tconst ticks = showTicks ? axisTicksSVG(this.props, getScale(moreProps)) : null;\r\n\t\tconst domain = showDomain ? axisLineSVG(this.props, range) : null;\r\n\r\n\t\treturn <g className={className}>\r\n\t\t\t{ticks}\r\n\t\t\t{domain}\r\n\t\t</g>;\r\n\t}\r\n\trender() {\r\n\t\tconst { bg, axisZoomCallback, zoomCursorClassName, zoomEnabled, getScale, inverted } = this.props;\r\n\t\tconst { transform, getMouseDelta, edgeClip } = this.props;\r\n\t\tconst { onContextMenu, onDoubleClick } = this.props;\r\n\r\n\t\tconst zoomCapture = zoomEnabled\r\n\t\t\t? <AxisZoomCapture\r\n\t\t\t\tbg={bg}\r\n\t\t\t\tgetScale={getScale}\r\n\t\t\t\tgetMoreProps={this.getMoreProps}\r\n\t\t\t\tgetMouseDelta={getMouseDelta}\r\n\t\t\t\taxisZoomCallback={axisZoomCallback}\r\n\t\t\t\tzoomCursorClassName={zoomCursorClassName}\r\n\t\t\t\tinverted={inverted}\r\n\t\t\t\tonContextMenu={onContextMenu}\r\n\t\t\t\tonDoubleClick={onDoubleClick}\r\n\t\t\t/>\r\n\t\t\t: null;\r\n\r\n\t\treturn <g transform={`translate(${ transform[0] }, ${ transform[1] })`}>\r\n\t\t\t{zoomCapture}\r\n\t\t\t<GenericChartComponent ref={this.saveNode}\r\n\t\t\t\tcanvasToDraw={getAxisCanvas}\r\n\t\t\t\tclip={false}\r\n\t\t\t\tedgeClip={edgeClip}\r\n\t\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\t\t\t\tdrawOn={[\"pan\"]}\r\n\t\t\t/>\r\n\t\t</g>;\r\n\t}\r\n}\r\n\r\nAxis.propTypes = {\r\n\tinnerTickSize: PropTypes.number,\r\n\touterTickSize: PropTypes.number,\r\n\ttickFormat: PropTypes.func,\r\n\ttickPadding: PropTypes.number,\r\n\ttickSize: PropTypes.number,\r\n\tticks: PropTypes.number,\r\n\ttickLabelFill: PropTypes.string,\r\n\ttickStroke: PropTypes.string,\r\n\ttickStrokeOpacity: PropTypes.number,\r\n\ttickStrokeWidth: PropTypes.number,\r\n\ttickStrokeDasharray: PropTypes.oneOf(strokeDashTypes),\r\n\ttickValues: PropTypes.oneOfType([PropTypes.array, PropTypes.func]),\r\n\ttickInterval: PropTypes.number,\r\n\ttickIntervalFunction: PropTypes.func,\r\n\tshowDomain: PropTypes.bool,\r\n\tshowTicks: PropTypes.bool,\r\n\tclassName: PropTypes.string,\r\n\taxisZoomCallback: PropTypes.func,\r\n\tzoomEnabled: PropTypes.bool,\r\n\tinverted: PropTypes.bool,\r\n\tzoomCursorClassName: PropTypes.string,\r\n\ttransform: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n\trange: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n\tgetMouseDelta: PropTypes.func.isRequired,\r\n\tgetScale: PropTypes.func.isRequired,\r\n\tbg: PropTypes.object.isRequired,\r\n\tedgeClip: PropTypes.bool.isRequired,\r\n\tonContextMenu: PropTypes.func,\r\n\tonDoubleClick: PropTypes.func,\r\n};\r\n\r\nAxis.defaultProps = {\r\n\tzoomEnabled: false,\r\n\tzoomCursorClassName: \"\",\r\n\tedgeClip: false,\r\n};\r\n\r\nfunction tickHelper(props, scale) {\r\n\tconst {\r\n\t\torient, innerTickSize, tickFormat, tickPadding,\r\n\t\ttickLabelFill, tickStrokeWidth, tickStrokeDasharray,\r\n\t\tfontSize, fontFamily, fontWeight, showTicks, flexTicks,\r\n\t\tshowTickLabel\r\n\t} = props;\r\n\tconst {\r\n\t\tticks: tickArguments, tickValues: tickValuesProp,\r\n\t\ttickStroke, tickStrokeOpacity, tickInterval, tickIntervalFunction\r\n\t} = props;\r\n\r\n\t// if (tickArguments) tickArguments = [tickArguments];\r\n\r\n\tlet tickValues;\r\n\tif (isDefined(tickValuesProp)) {\r\n\t\tif (typeof tickValuesProp === \"function\") {\r\n\t\t\ttickValues = tickValuesProp(scale.domain());\r\n\t\t} else {\r\n\t\t\ttickValues = tickValuesProp;\r\n\t\t}\r\n\t} else if (isDefined(tickInterval)) {\r\n\t\tconst [min, max] = scale.domain();\r\n\t\tconst baseTickValues = d3Range(min, max, (max - min) / tickInterval);\r\n\r\n\t\ttickValues = tickIntervalFunction\r\n\t\t\t? tickIntervalFunction(min, max, tickInterval)\r\n\t\t\t: baseTickValues;\r\n\t} else if (isDefined(scale.ticks)) {\r\n\t\ttickValues = scale.ticks(tickArguments, flexTicks);\r\n\t} else {\r\n\t\ttickValues = scale.domain();\r\n\t}\r\n\r\n\tconst baseFormat = scale.tickFormat\r\n\t\t? scale.tickFormat(tickArguments)\r\n\t\t: identity;\r\n\r\n\tconst format = isNotDefined(tickFormat)\r\n\t\t? baseFormat\r\n\t\t: d => tickFormat(d) || \"\";\r\n\r\n\tconst sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\r\n\tconst tickSpacing = Math.max(innerTickSize, 0) + tickPadding;\r\n\r\n\tlet ticks, dy, canvas_dy, textAnchor;\r\n\r\n\tif (orient === \"bottom\" || orient === \"top\") {\r\n\t\tdy = sign < 0 ? \"0em\" : \".71em\";\r\n\t\tcanvas_dy = sign < 0 ? 0 : (fontSize * .71);\r\n\t\ttextAnchor = \"middle\";\r\n\r\n\t\tticks = tickValues.map(d => {\r\n\t\t\tconst x = Math.round(scale(d));\r\n\t\t\treturn {\r\n\t\t\t\tvalue: d,\r\n\t\t\t\tx1: x,\r\n\t\t\t\ty1: 0,\r\n\t\t\t\tx2: x,\r\n\t\t\t\ty2: sign * innerTickSize,\r\n\t\t\t\tlabelX: x,\r\n\t\t\t\tlabelY: sign * tickSpacing,\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tif (showTicks && flexTicks) {\r\n\t\t\t// console.log(ticks, showTicks);\r\n\r\n\t\t\tconst nodes = ticks.map(d => ({ id: d.value, value: d.value, fy: d.y2, origX: d.x1 }));\r\n\r\n\t\t\tconst simulation = forceSimulation(nodes)\r\n\t\t\t\t.force(\"x\", forceX(d => d.origX).strength(1))\r\n\t\t\t\t.force(\"collide\", forceCollide(22))\r\n\t\t\t\t// .force(\"center\", forceCenter())\r\n\t\t\t\t.stop();\r\n\r\n\t\t\tfor (let i = 0; i < 100; ++i) simulation.tick();\r\n\t\t\t// console.log(nodes);\r\n\r\n\t\t\tconst zip = zipper()\r\n\t\t\t\t.combine((a, b) => {\r\n\t\t\t\t\tif (Math.abs(b.x - b.origX) > 0.01) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...a,\r\n\t\t\t\t\t\t\tx2: b.x,\r\n\t\t\t\t\t\t\tlabelX: b.x\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn a;\r\n\t\t\t\t});\r\n\r\n\t\t\tticks = zip(ticks, nodes);\r\n\t\t}\r\n\r\n\r\n\t} else {\r\n\t\tticks = tickValues.map(d => {\r\n\t\t\tconst y = Math.round(scale(d));\r\n\t\t\treturn {\r\n\t\t\t\tvalue: d,\r\n\t\t\t\tx1: 0,\r\n\t\t\t\ty1: y,\r\n\t\t\t\tx2: sign * innerTickSize,\r\n\t\t\t\ty2: y,\r\n\t\t\t\tlabelX: sign * tickSpacing,\r\n\t\t\t\tlabelY: y,\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tdy = \".32em\";\r\n\t\tcanvas_dy = (fontSize * .32);\r\n\t\ttextAnchor = sign < 0 ? \"end\" : \"start\";\r\n\t}\r\n\r\n\treturn {\r\n\t\tticks, scale, tickStroke,\r\n\t\ttickLabelFill: (tickLabelFill || tickStroke),\r\n\t\ttickStrokeOpacity,\r\n\t\ttickStrokeWidth,\r\n\t\ttickStrokeDasharray,\r\n\t\tdy,\r\n\t\tcanvas_dy,\r\n\t\ttextAnchor,\r\n\t\tfontSize,\r\n\t\tfontFamily,\r\n\t\tfontWeight,\r\n\t\tformat,\r\n\t\tshowTickLabel,\r\n\t};\r\n}\r\n\r\n/* eslint-disable react/prop-types */\r\nfunction axisLineSVG(props, range) {\r\n\tconst { orient, outerTickSize } = props;\r\n\tconst { domainClassName, fill, stroke, strokeWidth, opacity } = props;\r\n\r\n\tconst sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\r\n\r\n\tlet d;\r\n\r\n\tif (orient === \"bottom\" || orient === \"top\") {\r\n\t\td = \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize;\r\n\t} else {\r\n\t\td = \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<path\r\n\t\t\tclassName={domainClassName}\r\n\t\t\td={d}\r\n\t\t\tfill={fill}\r\n\t\t\topacity={opacity}\r\n\t\t\tstroke={stroke}\r\n\t\t\tstrokeWidth={strokeWidth} >\r\n\t\t</path>\r\n\t);\r\n}\r\n/* eslint-enable react/prop-types */\r\n\r\n\r\nfunction drawAxisLine(ctx, props, range) {\r\n\t// props = { ...AxisLine.defaultProps, ...props };\r\n\r\n\tconst { orient, outerTickSize, stroke, strokeWidth, opacity } = props;\r\n\r\n\tconst sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\r\n\tconst xAxis = (orient === \"bottom\" || orient === \"top\");\r\n\r\n\t// var range = d3_scaleRange(xAxis ? xScale : yScale);\r\n\r\n\tctx.lineWidth = strokeWidth;\r\n\tctx.strokeStyle = hexToRGBA(stroke, opacity);\r\n\r\n\tctx.beginPath();\r\n\r\n\tif (xAxis) {\r\n\t\tctx.moveTo(first(range), sign * outerTickSize);\r\n\t\tctx.lineTo(first(range), 0);\r\n\t\tctx.lineTo(last(range), 0);\r\n\t\tctx.lineTo(last(range), sign * outerTickSize);\r\n\t} else {\r\n\t\tctx.moveTo(sign * outerTickSize, first(range));\r\n\t\tctx.lineTo(0, first(range));\r\n\t\tctx.lineTo(0, last(range));\r\n\t\tctx.lineTo(sign * outerTickSize, last(range));\r\n\t}\r\n\tctx.stroke();\r\n}\r\n\r\nfunction Tick(props) {\r\n\tconst { tickLabelFill, tickStroke, tickStrokeOpacity, tickStrokeDasharray, tickStrokeWidth, textAnchor, fontSize, fontFamily, fontWeight } = props;\r\n\tconst { x1, y1, x2, y2, labelX, labelY, dy } = props;\r\n\treturn (\r\n\t\t<g className=\"tick\">\r\n\t\t\t<line\r\n\t\t\t\tshapeRendering=\"crispEdges\"\r\n\t\t\t\topacity={tickStrokeOpacity}\r\n\t\t\t\tstroke={tickStroke}\r\n\t\t\t\tstrokeWidth={tickStrokeWidth}\r\n\t\t\t\tstrokeDasharray={getStrokeDasharray(tickStrokeDasharray)}\r\n\t\t\t\tx1={x1} y1={y1}\r\n\t\t\t\tx2={x2} y2={y2} />\r\n\t\t\t<text\r\n\t\t\t\tdy={dy} x={labelX} y={labelY}\r\n\t\t\t\tfill={tickLabelFill}\r\n\t\t\t\tfontSize={fontSize}\r\n\t\t\t\tfontWeight={fontWeight}\r\n\t\t\t\tfontFamily={fontFamily}\r\n\t\t\t\ttextAnchor={textAnchor}>\r\n\t\t\t\t{props.children}\r\n\t\t\t</text>\r\n\t\t</g>\r\n\t);\r\n}\r\n\r\nTick.propTypes = {\r\n\tchildren: PropTypes.string.isRequired,\r\n\tx1: PropTypes.number.isRequired,\r\n\ty1: PropTypes.number.isRequired,\r\n\tx2: PropTypes.number.isRequired,\r\n\ty2: PropTypes.number.isRequired,\r\n\tlabelX: PropTypes.number.isRequired,\r\n\tlabelY: PropTypes.number.isRequired,\r\n\tdy: PropTypes.string.isRequired,\r\n\ttickStroke: PropTypes.string,\r\n\ttickLabelFill: PropTypes.string,\r\n\ttickStrokeWidth: PropTypes.number,\r\n\ttickStrokeOpacity: PropTypes.number,\r\n\ttickStrokeDasharray: PropTypes.oneOf(strokeDashTypes),\r\n\ttextAnchor: PropTypes.string,\r\n\tfontSize: PropTypes.number,\r\n\tfontFamily: PropTypes.string,\r\n\tfontWeight: PropTypes.oneOfType([\r\n\t  PropTypes.string,\r\n\t  PropTypes.number\r\n\t]),\r\n};\r\n\r\nfunction axisTicksSVG(props, scale) {\r\n\tconst result = tickHelper(props, scale);\r\n\r\n\tconst { tickLabelFill, tickStroke, tickStrokeOpacity, tickStrokeWidth, tickStrokeDasharray, textAnchor } = result;\r\n\tconst { fontSize, fontFamily, fontWeight, ticks, format } = result;\r\n\r\n\tconst { dy } = result;\r\n\r\n\treturn (\r\n\t\t<g>\r\n\t\t\t{ticks.map((tick, idx) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Tick key={idx}\r\n\t\t\t\t\t\ttickStroke={tickStroke}\r\n\t\t\t\t\t\ttickLabelFill={tickLabelFill}\r\n\t\t\t\t\t\ttickStrokeWidth={tickStrokeWidth}\r\n\t\t\t\t\t\ttickStrokeOpacity={tickStrokeOpacity}\r\n\t\t\t\t\t\ttickStrokeDasharray={tickStrokeDasharray}\r\n\t\t\t\t\t\tdy={dy}\r\n\t\t\t\t\t\tx1={tick.x1} y1={tick.y1}\r\n\t\t\t\t\t\tx2={tick.x2} y2={tick.y2}\r\n\t\t\t\t\t\tlabelX={tick.labelX} labelY={tick.labelY}\r\n\t\t\t\t\t\ttextAnchor={textAnchor}\r\n\t\t\t\t\t\tfontSize={fontSize}\r\n\t\t\t\t\t\tfontWeight={fontWeight}\r\n\t\t\t\t\t\tfontFamily={fontFamily}>{format(tick.value)}</Tick>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</g>\r\n\t);\r\n}\r\n\r\nfunction drawTicks(ctx, result) {\r\n\r\n\tconst { tickStroke, tickStrokeOpacity, tickLabelFill } = result;\r\n\tconst { textAnchor, fontSize, fontFamily, fontWeight, ticks, showTickLabel } = result;\r\n\r\n\tctx.strokeStyle = hexToRGBA(tickStroke, tickStrokeOpacity);\r\n\r\n\tctx.fillStyle = tickStroke;\r\n\t// ctx.textBaseline = 'middle';\r\n\r\n\tticks.forEach((tick) => {\r\n\t\tdrawEachTick(ctx, tick, result);\r\n\t});\r\n\r\n\tctx.font = `${fontWeight} ${fontSize}px ${fontFamily}`;\r\n\tctx.fillStyle = tickLabelFill;\r\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\r\n\r\n\tif (showTickLabel) {\r\n\t\tticks.forEach((tick) => {\r\n\t\t\tdrawEachTickLabel(ctx, tick, result);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction drawEachTick(ctx, tick, result) {\r\n\tconst { tickStrokeWidth, tickStrokeDasharray } = result;\r\n\r\n\tctx.beginPath();\r\n\r\n\tctx.moveTo(tick.x1, tick.y1);\r\n\tctx.lineTo(tick.x2, tick.y2);\r\n\tctx.lineWidth = tickStrokeWidth;\r\n\tctx.setLineDash(getStrokeDasharray(tickStrokeDasharray).split(\",\"));\r\n\tctx.stroke();\r\n}\r\n\r\nfunction drawEachTickLabel(ctx, tick, result) {\r\n\tconst { canvas_dy, format } = result;\r\n\r\n\tctx.beginPath();\r\n\tctx.fillText(format(tick.value), tick.labelX, tick.labelY + canvas_dy);\r\n}\r\n\r\nexport default Axis;\r\n"]}